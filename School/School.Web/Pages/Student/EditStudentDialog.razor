@using School.Web.PageModels.Students


<MatDialog IsOpen="@ViewModel.IsOpenDialog" CanBeClosed="false">
    <MatDialogTitle class="diHeader">
    </MatDialogTitle>
    <MatDialogContent>
        @if (ViewModel.Model != null)
        {
            <h4>@(ViewModel.Model.Id == 0 ? "Добавление нового ученика" : "Изменение данных ученика")</h4>

            <div class="card p-3 mt-3">
                <div class="form-group">
                    <label>Фамилия:</label>
                    <input class="form-control" @bind="ViewModel.Model.LastName" />
                </div>

                <div class="form-group mt-2">
                    <label>Имя:</label>
                    <input class="form-control" @bind="ViewModel.Model.FirstName" />
                </div>

                <div class="form-group mt-2">
                    <label>Отчество:</label>
                    <input class="form-control" @bind="ViewModel.Model.MiddleName" />
                </div>

                <div class="form-group mt-2">
                    <label>Возраст:</label>
                    <input type="number" class="form-control" @bind="ViewModel.Model.Age" />
                </div>

                <div class="form-group mt-2">
                    <label>Класс:</label>
                    <input type="number" class="form-control" @bind="ViewModel.Model.ClassId" />
                </div>

                @* <div class="mt-3">
            <button class="btn btn-success" @onclick="SaveChanges">Сохранить</button>
            <button class="btn btn-secondary ms-2" @onclick="CancelEdit">Отмена</button>
        </div> *@
            </div>
        }
        <button class="btn btn-success" @onclick="@(() => Save.InvokeAsync(ViewModel.Model))">Сохранить</button>
        <button class="btn btn-secondary ms-2" @onclick="@(() => Save.InvokeAsync(null))">Отмена</button>
    </MatDialogContent>
</MatDialog>

@code {
    [Parameter] public EditStudentModel ViewModel { get; set; }
    [Parameter] public EventCallback<StudentItemViewModel> Save { get; set; }
    
}
