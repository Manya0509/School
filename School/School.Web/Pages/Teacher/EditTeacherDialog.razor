@using School.Web.PageModels.Teachers

<MatDialog IsOpen="@ViewModel.IsOpenDialog" CanBeClosed="false">
    <MatDialogTitle class="diHeader">
    </MatDialogTitle>
    <MatDialogContent>

        @if (ViewModel.Model != null)
        {
            <h4>@(ViewModel.Model.Id == 0 ? "Добавление нового преподавателя" : "Изменение данных преподавателя"
                    )</h4>

            <div class="card p-3 mt-3">
                <div class="form-group">
                    <label>Фамилия:</label>
                    <input class="form-control" @bind="ViewModel.Model.LastName" />
                </div>

                <div class="form-group mt-2">
                    <label>Имя:</label>
                    <input class="form-control" @bind="ViewModel.Model.FirstName" />
                </div>

                <div class="form-group mt-2">
                    <label>Отчество:</label>
                    <input class="form-control" @bind="ViewModel.Model.MiddleName" />
                </div>

                <div class="form-group mt-2">
                    <label>Возраст:</label>
                    <input class="form-control" @bind="ViewModel.Model.Age" />
                </div>

                <div class="form-group mt-2">
                    <label>Предмет:</label>
                    <input class="form-control" @bind="ViewModel.Model.SubjectName" />
                </div>

                <div class="mt-3">
                    <button class="btn btn-success" @onclick="@(() => Save.InvokeAsync(ViewModel.Model))">Сохранить</button>
                    <button class="btn btn-secondary" @onclick="@(() => Save.InvokeAsync(null))">Отмена</button>
                </div>
            </div>
        }
    </MatDialogContent>
</MatDialog>

@code {
    [Parameter] public EditTeacherModel ViewModel { get; set; }
    [Parameter] public EventCallback<TeacherItemViewModel> Save { get; set;  }
}
